<mat-toolbar color="primary" class="toolbar">
  <button
    type="button"
    mat-icon-button
    (click)="drawer.toggle()"
    class="menu-button">
    <mat-icon>menu</mat-icon>
  </button>

  <div class="breadcrumb-container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li 
          *ngFor="let crumb of breadcrumbs$ | async; let last = last"
          class="breadcrumb-item"
          [class.active]="last">
          <a 
            *ngIf="!last" 
            [routerLink]="crumb.url"
            class="breadcrumb-link">
            {{ crumb.label }}
          </a>
          <span *ngIf="last">{{ crumb.label }}</span>
          <mat-icon *ngIf="!last" class="breadcrumb-separator">chevron_right</mat-icon>
        </li>
      </ol>
    </nav>
  </div>

  <span class="spacer"></span>

  <button
    mat-icon-button
    [matMenuTriggerFor]="userMenu"
    class="user-menu-button"
    aria-label="User menu">
    <mat-icon>account_circle</mat-icon>
  </button>

  <mat-menu #userMenu="matMenu" xPosition="before">
    <div class="user-menu-header" mat-menu-item disabled>
      <mat-icon>email</mat-icon>
      <span class="user-email">{{ userEmail$ | async }}</span>
    </div>
    <mat-divider></mat-divider>
    <button mat-menu-item (click)="onLogout()">
      <mat-icon>logout</mat-icon>
      <span>Logout</span>
    </button>
  </mat-menu>
</mat-toolbar>
